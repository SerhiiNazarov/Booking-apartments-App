"use strict";(self["webpackChunkvue_project_sn"]=self["webpackChunkvue_project_sn"]||[]).push([[309],{5750:function(e,a,t){t.r(a),t.d(a,{default:function(){return R}});var s=t(6768);const r={class:"registration"};function o(e,a,t,o,n,l){const i=(0,s.g2)("RegistrationForm"),u=(0,s.g2)("AuthSection");return(0,s.uX)(),(0,s.CE)("main",r,[(0,s.bF)(u,null,{default:(0,s.k6)((()=>[(0,s.bF)(i)])),_:1})])}var n=t(3230),l=t(5130);function i(e,a,t,r,o,n){const i=(0,s.g2)("MainTitle"),u=(0,s.g2)("CustomInput"),m=(0,s.g2)("BtnComponent"),d=(0,s.g2)("Form"),p=(0,s.g2)("AuthContainer");return(0,s.uX)(),(0,s.Wv)(p,{class:"registration"},{default:(0,s.k6)((()=>[(0,s.bF)(i,{class:"registration__title"},{default:(0,s.k6)((()=>[(0,s.eW)("Регистрация")])),_:1}),(0,s.bF)(d,{ref:"form",class:"registration__form",onSubmit:(0,l.D$)(n.handleSubmit,["prevent"])},{default:(0,s.k6)((()=>[(0,s.bF)(u,{modelValue:o.formData.name,"onUpdate:modelValue":a[0]||(a[0]=e=>o.formData.name=e),placeholder:"Name",autocomplete:"username",name:"name",rules:n.nameRules,class:"registration__input"},null,8,["modelValue","rules"]),(0,s.bF)(u,{modelValue:o.formData.email,"onUpdate:modelValue":a[1]||(a[1]=e=>o.formData.email=e),placeholder:"Email",autocomplete:"email",name:"email",rules:n.emailRules,class:"registration__input"},null,8,["modelValue","rules"]),(0,s.bF)(u,{modelValue:o.formData.password,"onUpdate:modelValue":a[2]||(a[2]=e=>o.formData.password=e),placeholder:"Password",autocomplete:"current-password",type:"password",name:"password",rules:n.passwordRules,class:"registration__input"},null,8,["modelValue","rules"]),(0,s.bF)(u,{modelValue:o.formData.confirmPassword,"onUpdate:modelValue":a[3]||(a[3]=e=>o.formData.confirmPassword=e),placeholder:"Confirm password",autocomplete:"current-password",type:"password",name:"password",rules:n.confirmPassword,class:"registration__input"},null,8,["modelValue","rules"]),(0,s.bF)(m,{class:"registration__btn",type:"submit",loading:o.loading},{default:(0,s.k6)((()=>[(0,s.eW)("Вход")])),_:1},8,["loading"])])),_:1},8,["onSubmit"])])),_:1})}t(4114);var u=t(9765),m=t(7994),d=t(3321),p=t(4669),c=t(3906),f=t(7807),g=t(782),h={name:"RegistrationForm",components:{Form:u.A,CustomInput:m.A,BtnComponent:d.A,AuthContainer:p.A,MainTitle:c.A},data(){return{loading:!1,formData:{name:"",email:"",password:"",confirmPassword:""}}},computed:{rules(){return{emailValidation:f.au,passwordValidation:f.nw,isRequired:f.gx}},nameRules(){return[this.rules.isRequired]},emailRules(){return[this.rules.isRequired,this.rules.emailValidation]},passwordRules(){return[this.rules.isRequired,this.rules.passwordValidation]},confirmPassword(){return[e=>({hasPassed:e===this.formData.password,message:"Пароли не совпадают"})]}},methods:{...(0,g.i0)("auth",["registerUser"]),async handleSubmit(){const{form:e}=this.$refs,a=e.validate(),{name:t,password:s,email:r}=this.formData;if(a)try{this.loading=!0,await this.registerUser({name:t,password:s,email:r}),this.$router.push({name:"homepage"}),e.reset()}catch(o){this.$notify({type:"error",title:"Произошла ошибка",text:o.message})}finally{this.loading=!1}}}},w=t(1241);const _=(0,w.A)(h,[["render",i]]);var b=_,V={name:"RegistrationPage",components:{AuthSection:n.A,RegistrationForm:b}};const F=(0,w.A)(V,[["render",o]]);var R=F}}]);
//# sourceMappingURL=309.f629ec88.js.map