"use strict";(self["webpackChunkvue_project_sn"]=self["webpackChunkvue_project_sn"]||[]).push([[831],{9448:function(e,t,n){n.d(t,{X:function(){return r},y:function(){return i}});var a=n(635);const i=()=>a.A.get("/apartments"),r=e=>a.A.get(`/apartments/${e}`)},9977:function(e,t,n){n.d(t,{W:function(){return r},w:function(){return i}});var a=n(635);const i=e=>a.A.post("/orders",e),r=()=>a.A.get("/orders")},7731:function(e,t,n){n.d(t,{A:function(){return l}});var a=n(6768),i=n(4232);const r={class:"star-rating"};function s(e,t,n,s,o,c){return(0,a.uX)(),(0,a.CE)("div",r,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.starLimit,(e=>((0,a.uX)(),(0,a.CE)("span",{key:e,class:"star star--outlined"})))),128)),(0,a.Lk)("div",{class:"star-rating__colored",style:(0,i.Tr)(c.ratingWidthStyle)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.starLimit,(e=>((0,a.uX)(),(0,a.CE)("span",{key:e,class:"star star--colored"})))),128))],4)])}var o={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}},c=n(1241);const u=(0,c.A)(o,[["render",s],["__scopeId","data-v-0b1d4bce"]]);var l=u},3321:function(e,t,n){n.d(t,{A:function(){return f}});var a=n(6768),i=n(4232);const r=["type","disabled"];function s(e,t,n,s,o,c){const u=(0,a.g2)("CircleLoader");return(0,a.uX)(),(0,a.CE)("button",{type:n.type,disabled:n.loading,class:(0,i.C4)({btn:!0,"btn--outlined":n.outlined})},[n.loading?((0,a.uX)(),(0,a.Wv)(u,{key:0,width:"38",height:"38",class:"btn__loader"})):(0,a.Q3)("",!0),(0,a.Lk)("span",{class:(0,i.C4)(["btn__content",c.contentStyle])},[(0,a.RG)(e.$slots,"default",{},void 0,!0)],2)],10,r)}const o=e=>((0,a.Qi)("data-v-c354ac4c"),e=e(),(0,a.jt)(),e),c={class:"circle-loader"},u=["width","height"],l=o((()=>(0,a.Lk)("circle",{cx:"50",cy:"50",r:"40","stroke-width":"5",fill:"none"},null,-1))),d=[l];function p(e,t,n,r,s,o){return(0,a.uX)(),(0,a.CE)("span",c,[((0,a.uX)(),(0,a.CE)("svg",{class:"preloader-icon",viewBox:"0 0 100 100",width:n.width,height:n.height,style:(0,i.Tr)(o.style)},d,12,u))])}var m={name:"CircleLoader",props:{width:{type:[Number,String],default:50},height:{type:[Number,String],default:50},color:{type:String,default:"#fff"}},computed:{style(){return`stroke: ${this.color};`}}},v=n(1241);const g=(0,v.A)(m,[["render",p],["__scopeId","data-v-c354ac4c"]]);var h=g,w={name:"BtnComponent",components:{CircleLoader:h},props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{contentStyle(){return{"btn__content--hidden":this.loading}}}};const _=(0,v.A)(w,[["render",s],["__scopeId","data-v-4370809c"]]);var f=_},7260:function(e,t,n){n.d(t,{A:function(){return u}});var a=n(6768);const i={class:"section-spacer"};function r(e,t,n,r,s,o){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.RG)(e.$slots,"default",{},void 0,!0)])}var s={name:"SectionSpacer"},o=n(1241);const c=(0,o.A)(s,[["render",r],["__scopeId","data-v-a635e22c"]]);var u=c},1831:function(e,t,n){n.r(t),n.d(t,{default:function(){return he}});var a=n(6768);const i={class:"apartment-page"},r={key:0,class:"apartment-page__content"},s={class:"apartment-page__additional-info"};function o(e,t,n,o,c,u){const l=(0,a.g2)("ApartmentsMainInfo"),d=(0,a.g2)("ApartmentsOwner"),p=(0,a.g2)("ReviewsList"),m=(0,a.g2)("AppContainer"),v=(0,a.g2)("SectionWithHeaderSpacer");return(0,a.uX)(),(0,a.CE)("main",i,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[c.apartment?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(l,{apartment:c.apartment},null,8,["apartment"]),(0,a.Lk)("div",s,[(0,a.bF)(d,{class:"apartment-page__owner",owner:c.apartment.owner},null,8,["owner"]),(0,a.bF)(p,{reviews:u.reviewsList},null,8,["reviews"])])])):(0,a.Q3)("",!0)])),_:1})])),_:1})])}var c=n(7964),u=n(4232);const l={class:"apartment-main-info"},d={class:"apartment-main-info__heading"},p={class:"apartment-main-info__title"},m=["src"],v={class:"apartment-main-info__description"},g={class:"apartment-main-info__btn"};function h(e,t,n,i,r,s){const o=(0,a.g2)("StarRating"),c=(0,a.g2)("BtnComponent");return(0,a.uX)(),(0,a.CE)("article",l,[(0,a.Lk)("div",d,[(0,a.Lk)("h1",p,(0,u.v_)(n.apartment.title),1),(0,a.bF)(o,{rating:n.apartment.rating},null,8,["rating"])]),(0,a.Lk)("img",{src:n.apartment.imgUrl,alt:"",class:"apartment-main-info__photo"},null,8,m),(0,a.Lk)("p",v,(0,u.v_)(n.apartment.descr),1),(0,a.Lk)("div",g,[(0,a.bF)(c,{onClick:s.handleApartmentsBooking,loading:r.isLoading},{default:(0,a.k6)((()=>[(0,a.eW)(" Забронировать ")])),_:1},8,["onClick","loading"])])])}var w=n(7731),_=n(3321),f=n(9977),L={name:"ApartmentsMainInfo",components:{StarRating:w.A,BtnComponent:_.A},props:{apartment:{type:Object,required:!0}},data(){return{isLoading:!1}},methods:{async handleApartmentsBooking(){const e={apartmentId:this.$route.params.id,date:Date.now()};try{this.isLoading=!0,await(0,f.w)(e),this.$notify({type:"success",title:"Заказ добавлен"})}catch(t){this.$notify({type:"error",title:"Произошла ошибка",text:t.message})}finally{this.isLoading=!1}}}},y=n(1241);const k=(0,y.A)(L,[["render",h],["__scopeId","data-v-9b9c5c3e"]]);var A=k;const b=e=>((0,a.Qi)("data-v-2fc0f31c"),e=e(),(0,a.jt)(),e),C={class:"apartments-owner"},R=b((()=>(0,a.Lk)("h2",{class:"apartments-owner__title"},"Информация о владельце:",-1))),X={class:"apartments-owner__info"},I={class:"apartments-owner__info"},S={class:"apartments-owner__info"};function E(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("section",C,[R,(0,a.Lk)("p",X,(0,u.v_)(n.owner.name),1),(0,a.Lk)("p",I,"tel: "+(0,u.v_)(n.owner.phone),1),(0,a.Lk)("p",S,"email: "+(0,u.v_)(n.owner.email),1)])}var F={name:"AprtmentsOwner",props:{owner:{type:Object,required:!0}}};const q=(0,y.A)(F,[["render",E],["__scopeId","data-v-2fc0f31c"]]);var x=q;const W=e=>((0,a.Qi)("data-v-6d79fe86"),e=e(),(0,a.jt)(),e),B={class:"reviews"},O={class:"reviews__heading"},$=W((()=>(0,a.Lk)("h2",{class:"reviews__title"},"Суммарный рейтинг",-1))),j={class:"reviews__rating"};function H(e,t,n,i,r,s){const o=(0,a.g2)("Rating"),c=(0,a.g2)("ReviewsItem");return(0,a.uX)(),(0,a.CE)("section",B,[(0,a.Lk)("div",O,[$,(0,a.Lk)("div",j,[(0,a.Lk)("span",null,(0,u.v_)(s.amountOfReviews)+" отзыв(ов)",1),(0,a.bF)(o,{rating:s.totalRating},null,8,["rating"])])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.currentReviews,(e=>((0,a.uX)(),(0,a.Wv)(c,{key:e.author,review:e},null,8,["review"])))),128)),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.toggleReviews&&s.toggleReviews(...e)),class:"reviews__show-more"},(0,u.v_)(s.buttonText),1)])}const M={class:"reviews-item"},N={class:"reviews-item__content"};function Q(e,t,n,i,r,s){const o=(0,a.g2)("ReviewsHeading");return(0,a.uX)(),(0,a.CE)("section",M,[(0,a.bF)(o,{rating:n.review.rating,author:n.review.author},null,8,["rating","author"]),(0,a.Lk)("p",N,(0,u.v_)(n.review.content),1)])}const T={class:"reviews-heading"},D={class:"reviews-heading__content"},K={class:"reviews-heading__author"};function G(e,t,n,i,r,s){const o=(0,a.g2)("Avatar"),c=(0,a.g2)("Rating");return(0,a.uX)(),(0,a.CE)("div",T,[(0,a.bF)(o,{class:"reviews-heading__avatar"}),(0,a.Lk)("div",D,[(0,a.Lk)("span",K,(0,u.v_)(n.author),1),(0,a.bF)(c,{rating:n.rating},null,8,["rating"])])])}const J={width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z=(0,a.Lk)("circle",{cx:"17",cy:"17",r:"17",fill:"white"},null,-1),P=(0,a.Lk)("circle",{cx:"17",cy:"17",r:"16",fill:"white",stroke:"#FF662D","stroke-width":"2"},null,-1),U=(0,a.Lk)("path",{fill:"#FF662D","fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.8053 28.8444L4.83307 28.8028C7.04004 25.4919 10.7338 23.5156 14.712 23.5156H19.2878C23.2661 23.5156 26.9599 25.4919 29.1669 28.8028L29.1946 28.8445C32.1687 25.783 34 21.6054 34 17C34 7.61115 26.3889 0 17 0C7.61115 0 0 7.61115 0 17C0 21.6053 1.83124 25.783 4.8053 28.8444ZM16.9999 7C12.9288 7 9.61713 10.3117 9.61713 14.3828C9.61713 18.4539 12.9288 21.7656 16.9999 21.7656C21.071 21.7656 24.3828 18.4539 24.3828 14.3828C24.3828 10.3117 21.071 7 16.9999 7Z"},null,-1),z=[Z,P,U];function V(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("svg",J,z)}var Y={name:"ReviewsAvatar"};const ee=(0,y.A)(Y,[["render",V]]);var te=ee,ne={name:"ReviewsHeading",components:{Rating:w.A,Avatar:te},props:{author:{type:String,required:!0},rating:{type:Number,default:0}}};const ae=(0,y.A)(ne,[["render",G],["__scopeId","data-v-7e8b51ba"]]);var ie=ae,re={name:"ReviewsItem",components:{ReviewsHeading:ie},props:{review:{type:Object,required:!0}}};const se=(0,y.A)(re,[["render",Q],["__scopeId","data-v-15912ec5"]]);var oe=se,ce={name:"ReviewsList",components:{ReviewsItem:oe,Rating:w.A},props:{reviews:{type:Array,required:!0}},data(){return{reviewsLimit:2}},computed:{totalRating(){const e=this.reviews.reduce(((e,t)=>e+t.rating),0);return e/this.reviews.length},amountOfReviews(){return this.reviews.length},currentReviews(){return this.reviews.slice(0,this.reviewsLimit)},buttonText(){return this.reviewsLimit===this.reviews.length?"Свернуть":"Читать еще..."}},methods:{toggleReviews(){this.reviewsLimit!==this.reviews.length?this.reviewsLimit=this.reviews.length:this.reviewsLimit=2}}};const ue=(0,y.A)(ce,[["render",H],["__scopeId","data-v-6d79fe86"]]);var le=ue,de=JSON.parse('[{"author":"Alex","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":3.5},{"author":"Ron","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":4.5},{"author":"Marry","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":4.8},{"author":"John","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":2.8}]'),pe=n(9448),me=n(7260),ve={name:"ApartmentPage",components:{AppContainer:c.A,ApartmentsMainInfo:A,ApartmentsOwner:x,ReviewsList:le,SectionWithHeaderSpacer:me.A},data(){return{apartment:null}},computed:{reviewsList(){return de}},async created(){try{const{id:e}=this.$route.params,{data:t}=await(0,pe.X)(e);this.apartment=t}catch(e){console.error(e)}}};const ge=(0,y.A)(ve,[["render",o],["__scopeId","data-v-0e22c50d"]]);var he=ge}}]);
//# sourceMappingURL=831.ae83eb79.js.map