"use strict";(self["webpackChunkvue_project_sn"]=self["webpackChunkvue_project_sn"]||[]).push([[536],{9448:function(t,e,r){r.d(e,{X:function(){return s},y:function(){return a}});var n=r(635);const a=()=>n.A.get("/apartments"),s=t=>n.A.get(`/apartments/${t}`)},7807:function(t,e,r){r.d(e,{_O:function(){return a},au:function(){return s},gx:function(){return n},nw:function(){return i}});const n=t=>({hasPassed:!!t,message:"Пожалуйста заполните это поле"}),a=t=>e=>({hasPassed:e.length<=t,message:"Вы превысели лимит"}),s=t=>({hasPassed:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t),message:"Неверный имейл"}),i=t=>({hasPassed:/^(?=.*[a-zA-Z])(?=.*\d).{6,}$/.test(t),message:"Пароль должен содержать одну цифру и один символ"})},7731:function(t,e,r){r.d(e,{A:function(){return c}});var n=r(6768),a=r(4232);const s={class:"star-rating"};function i(t,e,r,i,u,l){return(0,n.uX)(),(0,n.CE)("div",s,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.starLimit,(t=>((0,n.uX)(),(0,n.CE)("span",{key:t,class:"star star--outlined"})))),128)),(0,n.Lk)("div",{class:"star-rating__colored",style:(0,a.Tr)(l.ratingWidthStyle)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.starLimit,(t=>((0,n.uX)(),(0,n.CE)("span",{key:t,class:"star star--colored"})))),128))],4)])}var u={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}},l=r(1241);const o=(0,l.A)(u,[["render",i],["__scopeId","data-v-0b1d4bce"]]);var c=o},3321:function(t,e,r){r.d(e,{A:function(){return _}});var n=r(6768),a=r(4232);const s=["type","disabled"];function i(t,e,r,i,u,l){const o=(0,n.g2)("CircleLoader");return(0,n.uX)(),(0,n.CE)("button",{type:r.type,disabled:r.loading,class:(0,a.C4)({btn:!0,"btn--outlined":r.outlined})},[r.loading?((0,n.uX)(),(0,n.Wv)(o,{key:0,width:"38",height:"38",class:"btn__loader"})):(0,n.Q3)("",!0),(0,n.Lk)("span",{class:(0,a.C4)(["btn__content",l.contentStyle])},[(0,n.RG)(t.$slots,"default",{},void 0,!0)],2)],10,s)}const u=t=>((0,n.Qi)("data-v-c354ac4c"),t=t(),(0,n.jt)(),t),l={class:"circle-loader"},o=["width","height"],c=u((()=>(0,n.Lk)("circle",{cx:"50",cy:"50",r:"40","stroke-width":"5",fill:"none"},null,-1))),d=[c];function p(t,e,r,s,i,u){return(0,n.uX)(),(0,n.CE)("span",l,[((0,n.uX)(),(0,n.CE)("svg",{class:"preloader-icon",viewBox:"0 0 100 100",width:r.width,height:r.height,style:(0,a.Tr)(u.style)},d,12,o))])}var m={name:"CircleLoader",props:{width:{type:[Number,String],default:50},height:{type:[Number,String],default:50},color:{type:String,default:"#fff"}},computed:{style(){return`stroke: ${this.color};`}}},h=r(1241);const f=(0,h.A)(m,[["render",p],["__scopeId","data-v-c354ac4c"]]);var v=f,g={name:"BtnComponent",components:{CircleLoader:v},props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{contentStyle(){return{"btn__content--hidden":this.loading}}}};const y=(0,h.A)(g,[["render",i],["__scopeId","data-v-4370809c"]]);var _=y},7994:function(t,e,r){r.d(e,{A:function(){return m}});var n=r(6768),a=r(5130),s=r(4232);const i={class:"wrapper-input"},u=["value"],l={key:0,class:"custom-input__error"};function o(t,e,r,o,c,d){return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.bo)((0,n.Lk)("input",(0,n.v6)({"onUpdate:modelValue":e[0]||(e[0]=t=>c.inputValue=t),value:c.inputValue,onBlur:e[1]||(e[1]=(...t)=>d.blurHandler&&d.blurHandler(...t)),class:"custom-input"},t.$attrs,{class:!c.isValid&&"custom-input--error"}),null,16,u),[[a.hp,c.inputValue]]),c.isValid?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",l,(0,s.v_)(c.error),1))])}var c={name:"CustomInput",data(){return{inputValue:"",isValid:!0,error:"",isFirstInput:!0}},inject:{form:{default:null}},inheritAttrs:!1,props:{errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]}},mounted(){this.form&&this.form.registerInput(this)},beforeUnmount(){this.form&&this.form.unRegisterInput(this)},watch:{inputValue(){this.isFirstInput||this.validate()}},methods:{validate(){return this.isValid=this.rules.every((t=>{const{hasPassed:e,message:r}=t(this.inputValue);return e||(this.error=r||this.errorMessage),e})),this.isValid},blurHandler(){this.isFirstInput&&this.validate(),this.isFirstInput=!1},reset(){this.isFirstInput=!0,this.isValid=!0,this.inputValue="",this.$emit("input","")}}},d=r(1241);const p=(0,d.A)(c,[["render",o],["__scopeId","data-v-88e76a12"]]);var m=p},7260:function(t,e,r){r.d(e,{A:function(){return o}});var n=r(6768);const a={class:"section-spacer"};function s(t,e,r,s,i,u){return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.RG)(t.$slots,"default",{},void 0,!0)])}var i={name:"SectionSpacer"},u=r(1241);const l=(0,u.A)(i,[["render",s],["__scopeId","data-v-a635e22c"]]);var o=l},2536:function(t,e,r){r.r(e),r.d(e,{default:function(){return z}});var n=r(6768);const a={class:"homepage"},s={key:0};function i(t,e,r,i,u,l){const o=(0,n.g2)("ApartmentsFilterForm"),c=(0,n.g2)("AppContainer"),d=(0,n.g2)("ApartmentsItem"),p=(0,n.g2)("ApartmentsList"),m=(0,n.g2)("SectionWithHeaderSpacer");return(0,n.uX)(),(0,n.CE)("main",a,[(0,n.bF)(m,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.bF)(o,{class:"apartments-filter",onSubmit:l.filter},null,8,["onSubmit"])])),_:1}),(0,n.bF)(c,null,{default:(0,n.k6)((()=>[l.filteredApartments.length?((0,n.uX)(),(0,n.Wv)(p,{key:1,items:l.filteredApartments},{apartment:(0,n.k6)((({apartment:t})=>[((0,n.uX)(),(0,n.Wv)(d,{key:t.id,id:t.id,descr:t.descr,rating:t.rating,imgSrc:t.imgUrl,price:t.price},null,8,["id","descr","rating","imgSrc","price"]))])),_:1},8,["items"])):((0,n.uX)(),(0,n.CE)("p",s,"Ничего не найдено"))])),_:1})])),_:1})])}const u={class:"apartments-list"};function l(t,e,r,a,s,i){const l=(0,n.g2)("AppContainer");return(0,n.uX)(),(0,n.Wv)(l,null,{default:(0,n.k6)((()=>[(0,n.RG)(t.$slots,"title",{},void 0,!0),(0,n.Lk)("div",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.items,(e=>(0,n.RG)(t.$slots,"apartment",{apartment:e},void 0,!0))),256))])])),_:3})}var o=r(7964),c={name:"ApartmentsList",components:{AppContainer:o.A},props:{items:{type:Array,default:()=>[]}}},d=r(1241);const p=(0,d.A)(c,[["render",l],["__scopeId","data-v-c737542a"]]);var m=p,h=r(4232);const f={class:"apartments-item"},v={class:"apartments-item__inner"},g=["src"],y={class:"apartments-item__content"},_={class:"apartments-item__description"},b={class:"apartments-item__rating"},A={class:"apartments-item__price"};function C(t,e,r,a,s,i){const u=(0,n.g2)("StarRating"),l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",f,[(0,n.Lk)("div",v,[(0,n.Lk)("img",{src:r.imgSrc,alt:"descr",class:"apartments-item__photo"},null,8,g),(0,n.Lk)("div",y,[(0,n.Lk)("p",_,(0,h.v_)(r.descr),1),(0,n.Lk)("div",b,[(0,n.bF)(u,{rating:r.rating},null,8,["rating"])]),(0,n.Lk)("div",A,"UAH "+(0,h.v_)(r.price),1),(0,n.bF)(l,{to:{name:"apartment",params:{id:r.id},query:{name:"John"}},class:"apartments-item__link"},null,8,["to"])])])])}var S=r(7731),k={name:"ApartmentsItem",components:{StarRating:S.A},props:{id:{type:String,required:!0},descr:{type:String,default:""},rating:{type:Number,default:0},price:{type:Number,required:!0},imgSrc:{type:String,default:""}}};const I=(0,d.A)(k,[["render",C],["__scopeId","data-v-2da213b2"]]);var F=I,V=r(5130);function X(t,e,r,a,s,i){const u=(0,n.g2)("CustomSelect"),l=(0,n.g2)("CustomInput"),o=(0,n.g2)("SubmitButton");return(0,n.uX)(),(0,n.CE)("form",{class:"form",onSubmit:e[2]||(e[2]=(0,V.D$)(((...t)=>i.handleSubmit&&i.handleSubmit(...t)),["prevent"]))},[(0,n.bF)(u,{items:i.cities,modelValue:s.city,"onUpdate:modelValue":e[0]||(e[0]=t=>s.city=t),class:"form__select"},null,8,["items","modelValue"]),(0,n.bF)(l,{modelValue:s.price,"onUpdate:modelValue":e[1]||(e[1]=t=>s.price=t),placeholder:"Цена, от","error-message":"Не должно быть пустым",rules:i.rules},null,8,["modelValue","rules"]),(0,n.bF)(o,{class:"form__submit",type:"submit"},{default:(0,n.k6)((()=>[(0,n.eW)(" Подбор жилья ")])),_:1})],32)}const L=["value","selected"];function E(t,e,r,a,s,i){return(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.selectedValue=t),class:"custom-select"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.formatedItems,(t=>((0,n.uX)(),(0,n.CE)("option",{key:t.value,value:t.value,selected:t.selected},(0,h.v_)(t.label),9,L)))),128))],512)),[[V.u1,s.selectedValue]])}var w={name:"CustomSelect",props:{items:{type:Array,required:!0},value:String},data(){return{selectedValue:""}},computed:{formatedItems(){return this.items.map((t=>"object"===typeof t?t:{value:t,label:t}))}}};const $=(0,d.A)(w,[["render",E],["__scopeId","data-v-56a31428"]]);var B=$,W=r(7994),N=r(3321),P=r(7807),R={name:"ApartmentsFilterForm",components:{CustomSelect:B,CustomInput:W.A,SubmitButton:N.A},data(){return{price:"",city:""}},computed:{rules(){return[P.gx,(0,P._O)(10)]},cities(){return[{value:"",label:"Город",selected:!0},"Kyiv","Odesa","Poltava","Kharkiv","Dnipro","Lviv","Kherson","Mariupol"]}},methods:{handleSubmit(){this.$emit("submit",{city:this.city,price:this.price})}}};const K=(0,d.A)(R,[["render",X],["__scopeId","data-v-6073eca8"]]);var U=K,H=r(9448),j=r(7260),x={name:"App",components:{ApartmentsList:m,ApartmentsItem:F,ApartmentsFilterForm:U,AppContainer:o.A,SectionWithHeaderSpacer:j.A},data(){return{text:"",apartments:[],filters:{city:"",price:0}}},computed:{filteredApartments(){return this.filterByCityName(this.filterByPrice(this.apartments))}},async created(){try{const{data:t}=await(0,H.y)();this.apartments=t}catch(t){console.error(t)}},methods:{filter({city:t,price:e}){this.filters.city=t||this.filters.city,this.filters.price=e||this.filters.price},filterByCityName(t){return this.filters.city?t.filter((t=>t.location.city===this.filters.city)):t},filterByPrice(t){return this.filters.price?t.filter((t=>t.price>=this.filters.price)):t}}};const q=(0,d.A)(x,[["render",i],["__scopeId","data-v-d7688b0a"]]);var z=q}}]);
//# sourceMappingURL=536.b0ed552d.js.map